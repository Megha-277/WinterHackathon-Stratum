<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrowdSense - Smart City Crowd Awareness System</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --background: 35 30% 96%;
            --foreground: 20 15% 15%;
            --card: 35 25% 98%;
            --card-foreground: 20 15% 15%;
            --primary: 25 95% 53%;
            --primary-foreground: 0 0% 100%;
            --secondary: 43 74% 49%;
            --secondary-foreground: 20 15% 10%;
            --muted: 35 20% 90%;
            --muted-foreground: 20 10% 40%;
            --accent: 180 60% 45%;
            --border: 35 20% 85%;
            --crowd-calm: 142 76% 36%;
            --crowd-moderate: 45 93% 47%;
            --crowd-peak: 0 84% 60%;
        }

        .dark {
            --background: 220 20% 10%;
            --foreground: 35 25% 95%;
            --card: 220 18% 14%;
            --card-foreground: 35 25% 95%;
            --muted: 220 15% 20%;
            --muted-foreground: 35 15% 65%;
            --border: 220 15% 22%;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            line-height: 1.6;
            transition: background 0.3s, color 0.3s;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: hsla(var(--background), 0.8);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid hsl(var(--border));
            transition: background 0.3s, border 0.3s;
        }

        .navbar-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
            padding: 0 1rem;
        }

        .navbar-brand {
            font-size: 1.5rem;
            font-weight: 700;
            font-family: 'Playfair Display', serif;
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            cursor: pointer;
        }

        .nav-links {
            display: none;
            gap: 0.25rem;
        }

        @media (min-width: 768px) {
            .nav-links {
                display: flex;
            }
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            text-decoration: none;
            color: hsl(var(--muted-foreground));
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-link:hover {
            color: hsl(var(--foreground));
            background: hsl(var(--muted));
        }

        .nav-link.active {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            box-shadow: 0 0 30px hsla(25, 95%, 53%, 0.3);
        }

        /* Dialogflow Messenger Customization */
df-messenger {
    --df-messenger-bot-message: #f3f4f6;
    --df-messenger-button-titlebar-color: #FF6B35;
    --df-messenger-chat-background-color: #fafafa;
    --df-messenger-font-color: #1f2937;
    --df-messenger-send-icon: #FF6B35;
    --df-messenger-user-message: #FF6B35;
}

        .theme-toggle {
            padding: 0.5rem;
            border-radius: 0.5rem;
            background: hsl(var(--muted));
            border: none;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--secondary));
        }

        .theme-toggle:hover {
            background: hsla(var(--muted), 0.8);
        }

        /* Mobile Navigation */
        .mobile-nav {
            display: block;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: hsla(var(--background), 0.95);
            backdrop-filter: blur(12px);
            border-top: 1px solid hsl(var(--border));
            z-index: 1000;
            transition: background 0.3s, border 0.3s;
        }

        @media (min-width: 768px) {
            .mobile-nav {
                display: none;
            }
        }

        .mobile-nav-content {
            display: flex;
            justify-content: space-around;
            padding: 0.5rem;
        }

        .mobile-nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.25rem;
            padding: 0.5rem 1rem;
            text-decoration: none;
            color: hsl(var(--muted-foreground));
            font-size: 0.75rem;
            font-weight: 500;
            transition: color 0.3s;
            cursor: pointer;
        }

        .mobile-nav-link.active {
            color: hsl(var(--primary));
        }

        /* Hero Section */
        .hero {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            padding-top: 64px;
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800"><defs><linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:%23FF6B35;stop-opacity:1" /><stop offset="50%" style="stop-color:%23F7931E;stop-opacity:1" /><stop offset="100%" style="stop-color:%23FDB913;stop-opacity:1" /></linearGradient></defs><rect width="1200" height="800" fill="url(%23grad)"/></svg>');
            background-size: cover;
            background-position: center;
            opacity: 0.15;
        }

        .dark .hero-bg {
            opacity: 0.08;
        }

        .hero-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, hsla(var(--background), 0.3) 0%, hsla(var(--background), 0.9) 100%);
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 2rem 1rem;
        }

        /* Hero Carousel */
.hero-carousel {
    position: absolute;
    inset: 0;
    overflow: hidden;
}

.carousel-slide {
    position: absolute;
    inset: 0;
    opacity: 0;
    transition: opacity 1s ease-in-out;
}

.carousel-slide.active {
    opacity: 1;
}

.carousel-slide img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.carousel-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, hsla(var(--background), 0.4) 0%, hsla(var(--background), 0.95) 100%);
}

.dark .carousel-overlay {
    background: linear-gradient(180deg, hsla(var(--background), 0.6) 0%, hsla(var(--background), 0.95) 100%);
}

.carousel-indicators {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 0.5rem;
    z-index: 15;
}

.carousel-dot {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 50%;
    background: hsla(var(--primary-foreground), 0.4);
    cursor: pointer;
    transition: all 0.3s;
}

.carousel-dot.active {
    width: 1.5rem;
    border-radius: 0.25rem;
    background: hsl(var(--primary));
}

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            animation: fadeInUp 0.6s ease-out;
            color: hsl(var(--foreground));
        }

        @media (min-width: 768px) {
            .hero-title {
                font-size: 4rem;
            }
        }

        .text-gradient-gold {
            background: linear-gradient(135deg, hsl(43, 74%, 49%) 0%, hsl(38, 70%, 55%) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: hsl(var(--muted-foreground));
            max-width: 42rem;
            margin: 0 auto 2.5rem;
            font-weight: 300;
            animation: fadeInUp 0.6s ease-out 0.2s backwards;
        }

        .hero-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 3rem;
            animation: fadeInUp 0.6s ease-out 0.2s backwards;
        }

        @media (min-width: 640px) {
            .hero-buttons {
                flex-direction: row;
            }
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            color: white;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1.125rem;
            text-decoration: none;
            box-shadow: 0 0 30px hsla(25, 95%, 53%, 0.3);
            transition: all 0.3s;
            cursor: pointer;
            border: none;
        }

        .btn-primary:hover {
            box-shadow: 0 0 40px hsla(43, 74%, 49%, 0.4);
            transform: scale(1.05);
        }

        .btn-secondary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem 2rem;
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
            border: 1px solid hsl(var(--border));
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1.125rem;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            max-width: 48rem;
            margin: 0 auto;
        }

        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .stat-card {
            background: hsl(var(--card));
            backdrop-filter: blur(8px);
            border-radius: 0.75rem;
            padding: 1rem;
            border: 1px solid hsl(var(--border));
            text-align: center;
            transition: all 0.3s;
        }

        .stat-icon {
            width: 1.5rem;
            height: 1.5rem;
            color: hsl(var(--secondary));
            margin: 0 auto 0.5rem;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: hsl(var(--foreground));
        }

        .stat-label {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        /* Live Ticker */
        .ticker {
            width: 100%;
            overflow: hidden;
            background: hsla(var(--card), 0.8);
            backdrop-filter: blur(4px);
            border-top: 1px solid hsl(var(--border));
            border-bottom: 1px solid hsl(var(--border));
            padding: 0.75rem 0;
            transition: all 0.3s;
        }

        .ticker-content {
            display: flex;
            gap: 2rem;
            white-space: nowrap;
            animation: ticker 30s linear infinite;
        }

        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .ticker-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0 1rem;
        }

        .crowd-badge {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .crowd-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            animation: statusPulse 2s ease-in-out infinite;
        }

        .crowd-calm { background: hsl(var(--crowd-calm)); }
        .crowd-moderate { background: hsl(var(--crowd-moderate)); }
        .crowd-peak { background: hsl(var(--crowd-peak)); }

        .crowd-label {
            font-weight: 500;
            font-size: 0.875rem;
            text-transform: capitalize;
        }

        .crowd-calm-text { color: hsl(var(--crowd-calm)); }
        .crowd-moderate-text { color: hsl(var(--crowd-moderate)); }
        .crowd-peak-text { color: hsl(var(--crowd-peak)); }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        /* Sections */
        .section {
            padding: 5rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: hsl(var(--foreground));
        }

        @media (min-width: 768px) {
            .section-title {
                font-size: 2.5rem;
            }
        }

        .text-gradient-saffron {
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            text-align: center;
            color: hsl(var(--muted-foreground));
            max-width: 36rem;
            margin: 0 auto 3rem;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            gap: 1.5rem;
            max-width: 80rem;
            margin: 0 auto;
        }

        @media (min-width: 768px) {
            .cards-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .location-card {
            background: hsl(var(--card));
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            transition: all 0.3s;
        }

        .dark .location-card {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .location-card:hover {
            transform: translateY(-0.5rem);
            box-shadow: 0 20px 50px -15px hsla(20, 15%, 15%, 0.15);
        }

        .dark .location-card:hover {
            box-shadow: 0 20px 50px -15px hsla(0, 0%, 0%, 0.5);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: hsl(var(--foreground));
        }

        .card-category {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            background: hsl(var(--muted));
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            text-transform: capitalize;
        }

        .progress-bar {
            width: 100%;
            height: 0.5rem;
            background: hsl(var(--muted));
            border-radius: 9999px;
            overflow: hidden;
            margin: 0.75rem 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 9999px;
            transition: width 0.5s;
        }

        .card-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 1rem;
        }

        .card-button {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: hsla(var(--primary), 0.1);
            color: hsl(var(--primary));
            border: none;
            border-radius: 0.5rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }

        .card-button:hover {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            box-shadow: 0 0 30px hsla(25, 95%, 53%, 0.3);
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            gap: 1.5rem;
            max-width: 72rem;
            margin: 0 auto;
        }

        @media (min-width: 768px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .features-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        .feature-card {
            background: hsl(var(--card));
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            transition: all 0.3s;
        }

        .dark .feature-card {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .feature-card:hover {
            box-shadow: 0 20px 50px -15px hsla(20, 15%, 15%, 0.15);
        }

        .dark .feature-card:hover {
            box-shadow: 0 20px 50px -15px hsla(0, 0%, 0%, 0.5);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: hsl(var(--foreground));
        }

        .feature-description {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            line-height: 1.6;
        }

        /* CTA Section */
        .cta-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            text-align: center;
        }

        .cta-title {
            font-size: 2rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1.5rem;
        }

        @media (min-width: 768px) {
            .cta-title {
                font-size: 2.5rem;
            }
        }

        .cta-subtitle {
            color: rgba(255, 255, 255, 0.8);
            max-width: 36rem;
            margin: 0 auto 2rem;
        }

        .cta-buttons {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            justify-content: center;
        }

        @media (min-width: 640px) {
            .cta-buttons {
                flex-direction: row;
            }
        }

        .btn-white {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            background: white;
            color: hsl(var(--primary));
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1.125rem;
            text-decoration: none;
            box-shadow: 0 20px 50px -15px hsla(20, 15%, 15%, 0.15);
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-white:hover {
            background: rgba(255, 255, 255, 0.9);
        }

        .btn-outline-white {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2rem;
            background: transparent;
            color: white;
            border: 2px solid white;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1.125rem;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-outline-white:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Footer */
        .footer {
            padding: 2rem 0;
            background: hsl(var(--card));
            border-top: 1px solid hsl(var(--border));
            text-align: center;
            margin-bottom: 4rem;
            transition: all 0.3s;
        }

        @media (min-width: 768px) {
            .footer {
                margin-bottom: 0;
            }
        }

        .footer-text {
            color: hsl(var(--muted-foreground));
            font-size: 0.875rem;
        }

        /* Utilities */
        .hidden {
            display: none;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Icons */
        .icon {
            width: 1.25rem;
            height: 1.25rem;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }

        .icon-lg {
            width: 1.5rem;
            height: 1.5rem;
        }

        /* Page Content */
        .page-content {
            padding-top: 5rem;
            padding-bottom: 6rem;
            min-height: 100vh;
        }

        @media (min-width: 768px) {
            .page-content {
                padding-bottom: 2rem;
            }
        }

        /* Sarthi Page */
        .chat-container {
            max-width: 56rem;
            margin: 0 auto;
        }

        .sarthi-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        /*.sarthi-avatar {
            width: 8rem;
            height: 8rem;
            margin: 0 auto 1rem;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 0 40px hsla(43, 74%, 49%, 0.4);
            border: 3px solid hsl(var(--secondary));
            background: #1a1a1a;
            padding: 0.5rem;
        }

        .sarthi-avatar img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }*/

        .sarthi-avatar {
            width: 8rem;
            height: 8rem;
            margin: 0 auto 1rem;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 0 40px hsla(43, 74%, 49%, 0.4);
            border: 3px solid hsl(var(--secondary));
            background: #000;  /* Keep black background */
            padding: 1rem;     /* Add padding around logo */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sarthi-avatar img {
            width: 240%;
            height: 240%;
            object-fit: contain;  /* This keeps the logo proportions */
        }

        .chat-box {
            background: hsl(var(--card));
            border-radius: 1rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            overflow: hidden;
            transition: all 0.3s;
        }

        .dark .chat-box {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        /* .messages-area {
            height: 50vh;
            overflow-y: auto;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        } */

        .dialogflow-container {
    height: 500px;
    width: 100%;
    position: relative;
}

df-messenger {
    --df-messenger-bot-message: #f3f4f6;
    --df-messenger-button-titlebar-color: #FF6B35;
    --df-messenger-chat-background-color: #ffffff;
    --df-messenger-font-color: #1f2937;
    --df-messenger-send-icon: #FF6B35;
    --df-messenger-user-message: #FF6B35;
    width: 100%;
    height: 100%;
}

        .message {
            display: flex;
            max-width: 85%;
        }

        .message.user {
            margin-left: auto;
        }

        .message-content {
            padding: 1rem;
            border-radius: 1rem;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            color: white;
            border-bottom-right-radius: 0.25rem;
        }

        .message.bot .message-content {
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
            border-bottom-left-radius: 0.25rem;
        }

        .message-time {
            font-size: 0.75rem;
            opacity: 0.6;
            margin-top: 0.5rem;
            display: block;
        }

        .location-card-chat {
            margin-top: 1rem;
            padding: 1rem;
            background: hsl(var(--background));
            border-radius: 0.75rem;
            border: 1px solid hsl(var(--border));
        }

        .location-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.75rem;
        }

        .location-buttons button {
            flex: 1;
            padding: 0.5rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
        }

        .btn-navigate {
            background: hsl(var(--primary));
            color: white;
        }

        .btn-navigate:hover {
            box-shadow: 0 0 20px hsla(25, 95%, 53%, 0.3);
        }

        .btn-alt {
            background: hsl(var(--muted));
            color: hsl(var(--foreground));
        }

        .btn-alt:hover {
            background: hsla(var(--muted), 0.8);
        }

        .smart-tips {
            margin-top: 1rem;
            padding: 0.75rem;
            background: hsla(var(--secondary), 0.1);
            border-radius: 0.75rem;
            border: 1px solid hsla(var(--secondary), 0.2);
        }

        .tips-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: hsl(var(--secondary));
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .tips-list {
            list-style: none;
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        .tips-list li {
            margin-bottom: 0.25rem;
            padding-left: 1rem;
            position: relative;
        }

        .tips-list li:before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: hsl(var(--secondary));
        }

        .quick-actions {
            padding: 1rem;
            border-top: 1px solid hsl(var(--border));
            transition: all 0.3s;
        }

        .quick-actions-title {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 0.75rem;
        }

        .quick-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .chip {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: hsl(var(--muted));
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            color: hsl(var(--foreground));
        }

        .chip:hover {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .input-area {
            padding: 1rem;
            border-top: 1px solid hsl(var(--border));
            background: hsla(var(--muted), 0.3);
            transition: all 0.3s;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .input-field {
            flex: 1;
            padding: 0.75rem 1rem;
            background: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            border-radius: 0.75rem;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
            color: hsl(var(--foreground));
        }

        .input-field:focus {
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 3px hsla(var(--primary), 0.1);
        }

        .icon-button {
            padding: 0.75rem;
            border-radius: 0.75rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            background: hsl(var(--muted));
            color: hsl(var(--muted-foreground));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-button:hover {
            background: hsla(var(--muted), 0.8);
        }

        .send-button {
            padding: 0.75rem;
            border-radius: 0.75rem;
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .send-button:hover {
            box-shadow: 0 0 30px hsla(25, 95%, 53%, 0.3);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 0.25rem;
            padding: 1rem;
            background: hsl(var(--muted));
            border-radius: 1rem;
            border-bottom-left-radius: 0.25rem;
            max-width: fit-content;
        }

        .typing-dot {
            width: 0.5rem;
            height: 0.5rem;
            background: hsl(var(--muted-foreground));
            border-radius: 50%;
            animation: bounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-0.5rem);
            }
        }

        /* Explorer Map */
        .map-container {
            aspect-ratio: 16/10;
            background: hsl(var(--card));
            border-radius: 1rem;
            border: 1px solid hsl(var(--border));
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
        }

        .dark .map-container {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .map-grid {
            position: absolute;
            inset: 0;
            opacity: 0.3;
            background-image: 
                linear-gradient(hsl(var(--border)) 1px, transparent 1px),
                linear-gradient(90deg, hsl(var(--border)) 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .map-gradient {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, hsla(var(--primary), 0.05) 0%, transparent 50%, hsla(var(--secondary), 0.05) 100%);
        }

        .map-marker {
            position: absolute;
            transform: translate(-50%, -50%);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
        }

        .map-marker:hover {
            transform: translate(-50%, -50%) scale(1.25);
            z-index: 20;
        }

        .marker-dot {
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            animation: statusPulse 2s ease-in-out infinite;
        }

        .marker-pin {
            position: absolute;
            bottom: -2px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            width: 0.5rem;
            height: 0.5rem;
        }

        .map-legend {
            position: absolute;
            bottom: 1rem;
            left: 1rem;
            background: hsla(var(--background), 0.9);
            backdrop-filter: blur(8px);
            border-radius: 0.75rem;
            padding: 0.75rem;
            border: 1px solid hsl(var(--border));
        }

        .legend-title {
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: hsl(var(--foreground));
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-bottom: 0.25rem;
        }

        .legend-dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
        }

        .map-info {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: hsla(var(--background), 0.9);
            backdrop-filter: blur(8px);
            border-radius: 0.5rem;
            padding: 0.5rem 0.75rem;
            border: 1px solid hsl(var(--border));
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
        }

        .search-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem 1rem;
            padding-left: 2.5rem;
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: 0.75rem;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
            color: hsl(var(--foreground));
        }

        .search-input:focus {
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 3px hsla(var(--primary), 0.1);
        }

        .search-container {
            position: relative;
        }

        .search-icon {
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: hsl(var(--muted-foreground));
        }

        .filter-button {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1rem;
            background: hsl(var(--muted));
            border: none;
            border-radius: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            color: hsl(var(--foreground));
        }

        .filter-button:hover {
            background: hsla(var(--muted), 0.8);
        }

        .category-filters {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .category-chip {
            flex-shrink: 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: hsl(var(--muted));
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            color: hsl(var(--foreground));
        }

        .category-chip.active {
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            color: white;
            box-shadow: 0 0 20px hsla(25, 95%, 53%, 0.3);
        }

        /* Guardian Dashboard */
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (min-width: 1024px) {
            .dashboard-stats {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .dashboard-card {
            background: hsl(var(--card));
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            transition: all 0.3s;
        }

        .dark .dashboard-card {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .dashboard-card:hover {
            box-shadow: 0 20px 50px -15px hsla(20, 15%, 15%, 0.15);
        }

        .dark .dashboard-card:hover {
            box-shadow: 0 20px 50px -15px hsla(0, 0%, 0%, 0.5);
        }

        .card-icon-wrapper {
            display: inline-flex;
            padding: 0.5rem;
            border-radius: 0.75rem;
            background: hsla(var(--primary), 0.1);
            color: hsl(var(--primary));
            margin-bottom: 0.75rem;
        }

        .card-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: hsl(var(--foreground));
            margin-bottom: 0.25rem;
        }

        .card-label {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        .control-panel {
            background: hsl(var(--card));
            border-radius: 1rem;
            padding: 1.5rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            margin-bottom: 2rem;
        }

        .dark .control-panel {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .control-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: hsl(var(--foreground));
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-grid {
            display: grid;
            gap: 1rem;
            align-items: end;
        }

        @media (min-width: 768px) {
            .control-grid {
                grid-template-columns: 1fr 1fr 1fr;
            }
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
        }

        .form-select {
            padding: 0.75rem 1rem;
            background: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            border-radius: 0.75rem;
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s;
            color: hsl(var(--foreground));
            cursor: pointer;
        }

        .form-select:focus {
            border-color: hsl(var(--primary));
            box-shadow: 0 0 0 3px hsla(var(--primary), 0.1);
        }

        .level-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .level-btn {
            flex: 1;
            padding: 0.75rem;
            border-radius: 0.75rem;
            font-weight: 500;
            font-size: 0.875rem;
            text-transform: capitalize;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            background: hsl(var(--muted));
            color: hsl(var(--muted-foreground));
        }

        .level-btn:hover {
            color: hsl(var(--foreground));
        }

        .level-btn.active {
            color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .level-btn.calm.active {
            background: hsl(var(--crowd-calm));
        }

        .level-btn.moderate.active {
            background: hsl(var(--crowd-moderate));
        }

        .level-btn.peak.active {
            background: hsl(var(--crowd-peak));
        }

        .apply-button {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.75rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            background: linear-gradient(135deg, hsl(25, 95%, 53%) 0%, hsl(35, 90%, 55%) 50%, hsl(43, 74%, 49%) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .apply-button:hover {
            box-shadow: 0 0 30px hsla(25, 95%, 53%, 0.3);
        }

        .apply-button.success {
            background: hsl(var(--crowd-calm));
        }

        .control-note {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-top: 1rem;
        }

        .table-container {
            background: hsl(var(--card));
            border-radius: 1rem;
            border: 1px solid hsl(var(--border));
            box-shadow: 0 10px 40px -10px hsla(20, 15%, 15%, 0.1);
            overflow: hidden;
        }

        .dark .table-container {
            box-shadow: 0 10px 40px -10px hsla(0, 0%, 0%, 0.4);
        }

        .table-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid hsl(var(--border));
        }

        .table-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: hsl(var(--foreground));
        }

        .data-table {
            width: 100%;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: hsla(var(--muted), 0.5);
        }

        th {
            text-align: left;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: hsl(var(--muted-foreground));
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
        }

        tr:last-child td {
            border-bottom: none;
        }

        tbody tr:nth-child(even) {
            background: hsla(var(--muted), 0.2);
        }

        .table-location {
            font-weight: 500;
        }

        .table-category {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
            text-transform: capitalize;
        }

        .table-progress {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .mini-progress {
            width: 4rem;
            height: 0.5rem;
            background: hsl(var(--muted));
            border-radius: 9999px;
            overflow: hidden;
        }

        .mini-progress-fill {
            height: 100%;
            border-radius: 9999px;
        }

        .table-percentage {
            font-size: 0.875rem;
            font-weight: 500;
        }

        .table-trend {
            font-size: 0.875rem;
            text-transform: capitalize;
        }

        .trend-rising { color: hsl(var(--crowd-peak)); }
        .trend-falling { color: hsl(var(--crowd-calm)); }
        .trend-stable { color: hsl(var(--muted-foreground)); }
    </style>
    
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="container navbar-content">
            <div class="navbar-brand" onclick="showPage('home')">CrowdSense</div>
            <div class="nav-links">
                <div class="nav-link active" data-page="home" onclick="showPage('home')">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    Home
                </div>
                <div class="nav-link" data-page="sarthi" onclick="showPage('sarthi')">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    Sarthi
                </div>
                <!-- <div class="nav-link" data-page="explorer" onclick="showPage('explorer')">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
                    Explorer
                </div> -->
                <div class="nav-link" data-page="guardian" onclick="showPage('guardian')">
                    <svg class="icon" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                    Guardian
                </div>
                <a class="nav-link" href="live-explorer-map.html">
    <svg class="icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
    Explorer
</a>
            </div>
            <button class="theme-toggle" onclick="toggleTheme()">
                <svg class="icon" id="theme-icon" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </button>
        </div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav">
        <div class="mobile-nav-content">
            <div class="mobile-nav-link active" data-page="home" onclick="showPage('home')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>
                <span>Home</span>
            </div>
            <div class="mobile-nav-link" data-page="sarthi" onclick="showPage('sarthi')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                <span>Sarthi</span>
            </div>
            <!-- <div class="mobile-nav-link" data-page="explorer" onclick="showPage('explorer')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
                <span>Explorer</span>
            </div> -->
            <div class="mobile-nav-link" data-page="guardian" onclick="showPage('guardian')">
                <svg class="icon" viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
                <span>Guardian</span>
            </div>
            <a class="mobile-nav-link" href="live-explorer-map.html">
    <svg class="icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
    <span> Explorer</span>
</a>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home-page" class="page">
        <!-- Hero Section -->
        <!-- Hero Section -->
<section class="hero">
    <!-- Carousel -->
    <div class="hero-carousel">
        <div class="carousel-slide active">
            <img src="image/temple-night.jpeg" 
                 alt="Temple at Night">
        </div>
        <div class="carousel-slide">
            <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=2070&auto=format&fit=crop" 
                 alt="Beautiful Beach Sunset">
        </div>
        <div class="carousel-slide">
            <img src="https://images.unsplash.com/photo-1710910510603-747f57a3400a?q=80&w=1073&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" 
                 alt="Indian Temple at Sunset">
        </div>
        <div class="carousel-overlay"></div>
    </div>
    
    <div class="hero-content">
                <h1 class="hero-title">
                    Navigate Sacred India<br>
                    <span class="text-gradient-gold">With Confidence</span>
                </h1>
                <p class="hero-subtitle">
                    Real-time crowd intelligence for pilgrimage destinations. 
                    Plan your yatra with peace of mind.
                </p>
                <div class="hero-buttons">
                    <button class="btn-primary" onclick="setIntentAndNavigate('explore')">
                        <svg class="icon-lg" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        Sarthi
                        <svg class="icon" viewBox="0 0 24 24"><polyline points="9 18 15 12 9 6"></polyline></svg>
                    </button>
                    <button class="btn-secondary" onclick="setIntentAndNavigate('destination')">
                        <svg class="icon-lg" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
                        Check a Spot
                    </button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ‘¥</div>
                        <div class="stat-value">247,892</div>
                        <div class="stat-label">Active Visitors</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ“</div>
                        <div class="stat-value">50+</div>
                        <div class="stat-label">Destinations</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â­</div>
                        <div class="stat-value">4.8</div>
                        <div class="stat-label">User Rating</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ•</div>
                        <div class="stat-value">24/7</div>
                        <div class="stat-label">Live Updates</div>
                    </div>
                </div>
                
            </div>
        </section>

        <!-- Live Ticker -->
        <div class="ticker">
            <div class="ticker-content" id="ticker-content"></div>
        </div>

        <!-- City Pulse Section -->
        <section class="section">
            <div class="container">
                <h2 class="section-title">
                    City <span class="text-gradient-saffron">Pulse</span>
                </h2>
                <p class="section-subtitle">
                    Live crowd status from trending destinations across India
                </p>
                <div class="cards-grid" id="trending-locations"></div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="section" style="background: hsla(var(--muted), 0.5);">
            <div class="container">
                <h2 class="section-title">
                    Why <span class="text-gradient-saffron">CrowdSense</span>?
                </h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸŽ¯</div>
                        <h3 class="feature-title">Real-Time Intelligence</h3>
                        <p class="feature-description">Live crowd updates from 50+ destinations powered by smart sensors and crowd analytics.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ—ºï¸</div>
                        <h3 class="feature-title">Visual Explorer</h3>
                        <p class="feature-description">Interactive map with color-coded crowd status for easy destination planning.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ¤–</div>
                        <h3 class="feature-title">AI-Powered Guidance</h3>
                        <p class="feature-description">Sarthi chatbot provides personalized recommendations and local insights.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">â°</div>
                        <h3 class="feature-title">Best Time Predictions</h3>
                        <p class="feature-description">Know the optimal visiting hours to avoid crowds and enhance your experience.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ””</div>
                        <h3 class="feature-title">Smart Alerts</h3>
                        <p class="feature-description">Receive timely notifications about crowd surges and special events.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“±</div>
                        <h3 class="feature-title">Mobile First</h3>
                        <p class="feature-description">Designed for on-the-go access with offline support for remote locations.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <h2 class="cta-title">Ready to Plan Your Yatra?</h2>
                <p class="cta-subtitle">
                    Start exploring destinations, check crowd status, and get personalized guidance from Sarthi.
                </p>
                <div class="cta-buttons">
                    <button class="btn-white" onclick="showPage('explorer')">Explore Map</button>
                    <button class="btn-outline-white" onclick="showPage('sarthi')">Chat with Sarthi</button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p class="footer-text">Â© 2026 CrowdSense. Crafted with ðŸ§¡ for spiritual travelers.</p>
            </div>
        </footer>
    </div>

    <!-- Sarthi Page -->
    <div id="sarthi-page" class="page hidden">
        <div class="page-content">
            <div class="container chat-container">
                <div class="sarthi-header">
                    <div class="sarthi-avatar">
                        <img src="image/sarthi-logo.jpeg" alt="Sarthi Logo">
                    </div>
                    <h1 class="section-title">
                        <span class="text-gradient-gold">Sarthi</span> - Your Travel Guide
                    </h1>
                    <p class="section-subtitle" style="margin-bottom: 0;">AI-powered crowd intelligence at your service</p>
                </div>

                <!-- <div class="chat-box">
                    <div class="messages-area" id="messages-area">
                        <div class="message bot">
                            <div class="message-content">
                                <p id="initial-message">Namaste! ðŸ™ I'm Sarthi, your intelligent travel companion. How can I help you today?</p> -->
                                <!-- <span class="message-time">Just now</span> -->
                                 <!-- <df-messenger
                                intent="WELCOME"
                                chat-title="Sarthi"
                                agent-id="4543fc7a-7193-417e-99b4-b53a13c84d77"
                                language-code="en"
                            ></df-messenger> -->
                            <!-- </div>
                        </div>
                    </div> -->

                      <div class="dialogflow-container">
                            <df-messenger
                                chat-title="Sarthi"
                                agent-id="4543fc7a-7193-417e-99b4-b53a13c84d77"
                                language-code="en"
                                expand="true"
                            ></df-messenger>
                        </div>

                    <div class="quick-actions" id="quick-actions">
                        <p class="quick-actions-title">Quick suggestions</p>
                        <div class="quick-chips" id="quick-chips-container">
                            <button class="chip" onclick="selectDestination('Tirupati Temple')">
                                <span>ðŸ›•</span> Tirupati Temple
                            </button>
                            <button class="chip" onclick="selectDestination('Varanasi Ghats')">
                                <span>ðŸª”</span> Varanasi Ghats
                            </button>
                            <button class="chip" onclick="selectDestination('Golden Temple')">
                                <span>âœ¨</span> Golden Temple
                            </button>
                        </div>
                    </div>

                    <!-- <div class="input-area">
                        <div class="input-group">
                            <button class="icon-button" onclick="resetChat()">
                                <svg class="icon" viewBox="0 0 24 24"><polyline points="1 4 1 10 7 10"></polyline><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg>
                            </button>
                            <input type="text" class="input-field" id="user-input" placeholder="Ask about any destination..." onkeypress="handleKeyPress(event)">
                            <button class="send-button" id="send-button" onclick="sendMessage()">
                                <svg class="icon" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
                            </button>
                        </div>
                    </div> -->
                </div>
            </div>
        </div>
    </div>

    <!-- Explorer Page -->
    <div id="explorer-page" class="page hidden">
        <div class="page-content">
            <div class="container">
                <h1 class="section-title">
                    <span class="text-gradient-saffron">Explorer</span> Map
                </h1>
                <p class="section-subtitle">Discover destinations with real-time crowd status</p>

                <!-- Search Bar -->
                <div class="search-bar">
                    <div class="search-container" style="flex: 1;">
                        <svg class="icon search-icon" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                        <input type="text" class="search-input" placeholder="Search destinations..." id="search-input" oninput="filterLocations()">
                    </div>
                </div>

                <!-- Category Filters -->
                <div class="category-filters">
                    <button class="category-chip active" data-category="all" onclick="filterByCategory('all')">
                        <span>ðŸŒŸ</span> All
                    </button>
                    <button class="category-chip" data-category="temple" onclick="filterByCategory('temple')">
                        <span>ðŸ›•</span> Temples
                    </button>
                    <button class="category-chip" data-category="beach" onclick="filterByCategory('beach')">
                        <span>ðŸ–ï¸</span> Beaches
                    </button>
                    <button class="category-chip" data-category="monument" onclick="filterByCategory('monument')">
                        <span>ðŸ›ï¸</span> Monuments
                    </button>
                    <button class="category-chip" data-category="nature" onclick="filterByCategory('nature')">
                        <span>ðŸŒ¿</span> Nature
                    </button>
                    <button class="category-chip" data-category="market" onclick="filterByCategory('market')">
                        <span>ðŸ›ï¸</span> Markets
                    </button>
                </div>

                <!-- Map Container -->
                <div class="map-container">
                    <div class="map-grid"></div>
                    <div class="map-gradient"></div>
                    
                    <div id="map-markers"></div>

                    <!-- Legend -->
                    <div class="map-legend">
                        <p class="legend-title">Crowd Status</p>
                        <div class="legend-item">
                            <span class="legend-dot crowd-calm"></span>
                            <span>Calm (0-35%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot crowd-moderate"></span>
                            <span>Moderate (35-70%)</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-dot crowd-peak"></span>
                            <span>Peak (70%+)</span>
                        </div>
                    </div>

                    <!-- Map Info -->
                    <div class="map-info">
                        ðŸ‡®ðŸ‡³ India Explorer
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Guardian Page -->
    <div id="guardian-page" class="page hidden">
        <div class="page-content">
            <div class="container">
                <h1 class="section-title">
                    <span class="text-gradient-saffron">Guardian</span> Dashboard
                </h1>
                <p class="section-subtitle">Admin control center for crowd management</p>

                <!-- Stats Cards -->
                <div class="dashboard-stats">
                    <div class="dashboard-card">
                        <div class="card-icon-wrapper">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                        </div>
                        <div class="card-value">247,892</div>
                        <div class="card-label">Active Visitors</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon-wrapper">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>
                        </div>
                        <div class="card-value" id="high-crowd-count">3</div>
                        <div class="card-label">High Crowd Alerts</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon-wrapper">
                            <svg class="icon" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path></svg>
                        </div>
                        <div class="card-value">8</div>
                        <div class="card-label">Active Locations</div>
                    </div>
                    <div class="dashboard-card">
                        <div class="card-icon-wrapper">
                            <svg class="icon" viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                        </div>
                        <div class="card-value">6-8 PM</div>
                        <div class="card-label">Predicted Peak</div>
                    </div>
                </div>

                <!-- Control Panel -->
                <div class="control-panel">
                    <h2 class="control-title">
                        <span class="crowd-dot crowd-calm" style="animation: none;"></span>
                        Manual Override Controls
                    </h2>
                    <div class="control-grid">
                        <div class="form-group">
                            <label class="form-label">Select Location</label>
                            <select class="form-select" id="location-select">
                                <option value="1">Tirupati Balaji Temple</option>
                                <option value="2">Golden Temple</option>
                                <option value="3">Goa Beach</option>
                                <option value="4">India Gate</option>
                                <option value="5">Varanasi Ghats</option>
                                <option value="6">Jim Corbett Park</option>
                                <option value="7">Chandni Chowk Market</option>
                                <option value="8">Marina Beach</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Crowd Level</label>
                            <div class="level-buttons">
                                <button class="level-btn calm" data-level="calm" onclick="selectLevel('calm')">Calm</button>
                                <button class="level-btn moderate active" data-level="moderate" onclick="selectLevel('moderate')">Moderate</button>
                                <button class="level-btn peak" data-level="peak" onclick="selectLevel('peak')">Peak</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <button class="apply-button" id="apply-button" onclick="applyChanges()">
                                Apply Changes
                            </button>
                        </div>
                    </div>
                    <p class="control-note">
                        âš¡ Changes will propagate to Sarthi chatbot and Explorer map instantly
                    </p>
                </div>

                <!-- Location Status Table -->
                <div class="table-container">
                    <div class="table-header">
                        <h2 class="table-title">Location Status</h2>
                    </div>
                    <div class="data-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Location</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Capacity</th>
                                    <th>Trend</th>
                                </tr>
                            </thead>
                            <tbody id="location-table-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // App State
        let locations = [
            {
                id: '1',
                name: 'Tirupati Balaji Temple',
                category: 'temple',
                crowdLevel: 'peak',
                crowdPercentage: 87,
                waitTime: '4-5 hrs',
                trend: 'rising',
                distance: '2.5 km',
                rating: 4.9,
                coordinates: { x: 65, y: 35 },
                bestTime: '5:00 AM - 6:00 AM',
                tip: 'Use the side entrance near the prasadam counter for shorter queue',
            },
            {
                id: '2',
                name: 'Golden Temple',
                category: 'temple',
                crowdLevel: 'moderate',
                crowdPercentage: 58,
                waitTime: '1-2 hrs',
                trend: 'stable',
                distance: '5.2 km',
                rating: 4.8,
                coordinates: { x: 25, y: 25 },
                bestTime: '4:00 AM - 5:30 AM',
                tip: 'Weekday mornings offer the most peaceful experience',
            },
            {
                id: '3',
                name: 'Goa Beach',
                category: 'beach',
                crowdLevel: 'calm',
                crowdPercentage: 23,
                waitTime: 'No wait',
                trend: 'falling',
                distance: '1.8 km',
                rating: 4.5,
                coordinates: { x: 15, y: 70 },
                bestTime: '6:00 AM - 8:00 AM',
                tip: 'Early morning offers best views and fewer tourists',
            },
            {
                id: '4',
                name: 'India Gate',
                category: 'monument',
                crowdLevel: 'moderate',
                crowdPercentage: 45,
                waitTime: '30 mins',
                trend: 'rising',
                distance: '3.1 km',
                rating: 4.6,
                coordinates: { x: 50, y: 20 },
                bestTime: '6:00 PM - 8:00 PM',
                tip: 'Evening visits offer beautiful lighting for photographs',
            },
            {
                id: '5',
                name: 'Varanasi Ghats',
                category: 'temple',
                crowdLevel: 'peak',
                crowdPercentage: 92,
                waitTime: '2-3 hrs',
                trend: 'stable',
                distance: '4.7 km',
                rating: 4.7,
                coordinates: { x: 75, y: 45 },
                bestTime: '5:00 AM - 6:30 AM',
                tip: 'Morning Ganga Aarti is less crowded than evening',
            },
            {
                id: '6',
                name: 'Jim Corbett Park',
                category: 'nature',
                crowdLevel: 'calm',
                crowdPercentage: 18,
                waitTime: 'No wait',
                trend: 'stable',
                distance: '8.2 km',
                rating: 4.4,
                coordinates: { x: 40, y: 55 },
                bestTime: '6:00 AM - 9:00 AM',
                tip: 'Book safari in advance for better wildlife sighting chances',
            },
            {
                id: '7',
                name: 'Chandni Chowk Market',
                category: 'market',
                crowdLevel: 'peak',
                crowdPercentage: 78,
                waitTime: 'Variable',
                trend: 'rising',
                distance: '2.9 km',
                rating: 4.3,
                coordinates: { x: 55, y: 30 },
                bestTime: '10:00 AM - 12:00 PM',
                tip: 'Visit on weekday afternoons for easier navigation',
            },
            {
                id: '8',
                name: 'Marina Beach',
                category: 'beach',
                crowdLevel: 'moderate',
                crowdPercentage: 52,
                waitTime: 'No wait',
                trend: 'falling',
                distance: '6.1 km',
                rating: 4.2,
                coordinates: { x: 80, y: 75 },
                bestTime: '5:30 AM - 7:00 AM',
                tip: 'Sunrise views are spectacular and crowd-free',
            },
        ];

        let userIntent = null;
        let selectedCategory = 'all';
        let selectedLevel = 'moderate';

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initTicker();
            initTrendingLocations();
            initMapMarkers();
            initLocationTable();
            
            // Check for saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.documentElement.classList.add('dark');
                updateThemeIcon();
            }
        });

        // Theme Toggle
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcon();
        }

        function updateThemeIcon() {
            const icon = document.getElementById('theme-icon');
            const isDark = document.documentElement.classList.contains('dark');
            if (isDark) {
                icon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
            } else {
                icon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
            }
        }

        // Navigation
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => page.classList.add('hidden'));
            document.getElementById(`${pageName}-page`).classList.remove('hidden');
            
            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            document.querySelectorAll('.mobile-nav-link').forEach(link => link.classList.remove('active'));
            
            document.querySelectorAll(`[data-page="${pageName}"]`).forEach(link => link.classList.add('active'));
            
            if (event) event.preventDefault();
        }

        function setIntentAndNavigate(intent) {
            userIntent = intent;
            showPage('sarthi');
            updateInitialMessage();
        }

        function updateInitialMessage() {
            const messageEl = document.getElementById('initial-message');
            const chipsContainer = document.getElementById('quick-chips-container');
            
            if (userIntent === 'explore') {
                messageEl.textContent = "Namaste! ðŸ™ I'm Sarthi. What's the mood for your journey today?";
                chipsContainer.innerHTML = `
                    <button class="chip" onclick="selectMood('quiet')">
                        <span>ðŸ§˜</span> Quiet & Peaceful
                    </button>
                    <button class="chip" onclick="selectMood('social')">
                        <span>ðŸŽ‰</span> Social & Lively
                    </button>
                    <button class="chip" onclick="selectMood('nature')">
                        <span>ðŸŒ¿</span> Nature & Outdoors
                    </button>
                    <button class="chip" onclick="selectMood('retail')">
                        <span>ðŸ›ï¸</span> Shopping & Markets
                    </button>
                `;
            } else if (userIntent === 'destination') {
                messageEl.textContent = "Namaste! ðŸ™ Where are you headed? I'll check the crowd status for you.";
                chipsContainer.innerHTML = `
                    <button class="chip" onclick="selectDestination('kudupu Temple')">
                        <span>ðŸ›•</span> kudupu Temple
                    </button>
                    <button class="chip" onclick="selectDestination('panambur beach')">
                        <span>ðŸª”</span> panambur beach
                    </button>
                    <button class="chip" onclick="selectDestination('Golden Temple')">
                        <span>âœ¨</span> Golden Temple
                    </button>
                    <button class="chip" onclick="selectDestination('Adyar falls')">
                        <span>ðŸ–ï¸</span> Adyar falls
                    </button>
                `;
            }
        }

        // Initialize Ticker
        function initTicker() {
            const tickerContent = document.getElementById('ticker-content');
            const tickerItems = locations.map(loc => `
                <div class="ticker-item">
                    <div class="crowd-badge">
                        <span class="crowd-dot crowd-${loc.crowdLevel}"></span>
                    </div>
                    <span style="font-weight: 500;">${loc.name}</span>
                    <span style="color: hsl(var(--muted-foreground)); font-size: 0.875rem;">${loc.crowdPercentage}% capacity</span>
                </div>
            `).join('');
            
            tickerContent.innerHTML = tickerItems + tickerItems;
        }

        // Initialize Trending Locations
        function initTrendingLocations() {
            const container = document.getElementById('trending-locations');
            container.innerHTML = locations.slice(0, 3).map(loc => `
                <div class="location-card">
                    <div class="card-header">
                        <div>
                            <h3 class="card-title">${loc.name}</h3>
                            <span class="card-category">${loc.category}</span>
                        </div>
                        <div class="crowd-badge">
                            <span class="crowd-dot crowd-${loc.crowdLevel}"></span>
                            <span class="crowd-label crowd-${loc.crowdLevel}-text">${loc.crowdLevel}</span>
                        </div>
                    </div>
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; font-size: 0.875rem; margin-bottom: 0.75rem;">
                            <span style="color: hsl(var(--muted-foreground));">Capacity</span>
                            <span style="font-weight: 600;">${loc.crowdPercentage}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill crowd-${loc.crowdLevel}" style="width: ${loc.crowdPercentage}%;"></div>
                        </div>
                    </div>
                    <div class="card-stats">
                        <span>â° ${loc.waitTime}</span>
                        <span>ðŸ“ˆ ${loc.trend}</span>
                    </div>
                    <button class="card-button" onclick="showPage('sarthi')">
                        <svg class="icon" style="width: 1rem; height: 1rem;" viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                        Ask Sarthi
                    </button>
                </div>
            `).join('');
        }

        // Chat Functions
        // function addMessage(type, content) {
        //     const messagesArea = document.getElementById('messages-area');
        //     const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
        //     const messageDiv = document.createElement('div');
        //     messageDiv.className = `message ${type}`;
        //     messageDiv.innerHTML = `
        //         <div class="message-content">
        //             ${content}
        //             <span class="message-time">${time}</span>
        //         </div>
        //     `;
            
        //     messagesArea.appendChild(messageDiv);
        //     messagesArea.scrollTop = messagesArea.scrollHeight;
        // }

        // function showTyping() {
        //     const messagesArea = document.getElementById('messages-area');
        //     const typingDiv = document.createElement('div');
        //     typingDiv.id = 'typing-indicator';
        //     typingDiv.innerHTML = `
        //         <div class="typing-indicator">
        //             <span class="typing-dot"></span>
        //             <span class="typing-dot"></span>
        //             <span class="typing-dot"></span>
        //         </div>
        //     `;
        //     messagesArea.appendChild(typingDiv);
        //     messagesArea.scrollTop = messagesArea.scrollHeight;
        // }

        // function hideTyping() {
        //     const typing = document.getElementById('typing-indicator');
        //     if (typing) typing.remove();
        // }

        // function sendMessage() {
        //     const input = document.getElementById('user-input');
        //     const message = input.value.trim();
            
        //     if (!message) return;
            
        //     addMessage('user', `<p>${message}</p>`);
        //     input.value = '';
            
        //     showTyping();
            
        //     setTimeout(() => {
        //         hideTyping();
        //         const response = generateResponse(message);
        //         addMessage('bot', response);
        //     }, 1000 + Math.random() * 500);
        // }

        function generateResponse(query) {
            const lowerQuery = query.toLowerCase();
            
            const matchedLocation = locations.find(loc => 
                loc.name.toLowerCase().includes(lowerQuery) ||
                lowerQuery.includes(loc.name.toLowerCase().split(' ')[0].toLowerCase())
            );
            
            if (matchedLocation) {
                return createLocationResponse(matchedLocation);
            }
            
            if (lowerQuery.includes('crowd') || lowerQuery.includes('busy')) {
                const calmLocations = locations.filter(l => l.crowdLevel === 'calm');
                return `<p>Looking for less crowded spots? Here are some peaceful destinations:</p>` + 
                    calmLocations.slice(0, 2).map(loc => createLocationCard(loc)).join('');
            }
            
            if (lowerQuery.includes('best time') || lowerQuery.includes('when')) {
                return `<p>For most pilgrimage destinations, early morning (5-7 AM) offers the best experience with fewer crowds. Here are some spots with their optimal visiting times:</p>` +
                    locations.slice(0, 2).map(loc => createLocationCard(loc)).join('');
            }
            
            return "<p>I'd be happy to help! I can provide crowd status, wait times, and tips for popular destinations like Tirupati Temple, Golden Temple, Varanasi Ghats, and more. What would you like to know?</p>";
        }

        function createLocationResponse(loc) {
            const tips = [loc.tip];
            if (loc.crowdLevel === 'peak') {
                tips.push('Consider visiting during early morning hours for a better experience.');
            }
            if (loc.category === 'temple') {
                tips.push('Remember to dress modestly and remove footwear before entering.');
            }
            
            return `<p>Here's the current status for ${loc.name}:</p>` + 
                createLocationCard(loc) +
                `<div class="smart-tips">
                    <div class="tips-title">
                        <span>âš¡</span> Smart Tips
                    </div>
                    <ul class="tips-list">
                        ${tips.map(tip => `<li>${tip}</li>`).join('')}
                    </ul>
                </div>`;
        }

        function createLocationCard(loc) {
            return `
                <div class="location-card-chat">
                    <div class="card-header">
                        <div>
                            <h4 class="card-title">${loc.name}</h4>
                            <span class="card-category">${loc.category}</span>
                        </div>
                        <div class="crowd-badge">
                            <span class="crowd-dot crowd-${loc.crowdLevel}"></span>
                            <span class="crowd-label crowd-${loc.crowdLevel}-text">${loc.crowdLevel}</span>
                        </div>
                    </div>
                    <div style="margin: 0.75rem 0;">
                        <div style="display: flex; justify-content: space-between; font-size: 0.875rem; margin-bottom: 0.5rem;">
                            <span style="color: hsl(var(--muted-foreground));">Capacity</span>
                            <span style="font-weight: 600;">${loc.crowdPercentage}%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill crowd-${loc.crowdLevel}" style="width: ${loc.crowdPercentage}%;"></div>
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; font-size: 0.875rem; color: hsl(var(--muted-foreground)); margin-bottom: 0.75rem;">
                        <div>â° ${loc.waitTime}</div>
                        <div>ðŸ“ˆ ${loc.trend}</div>
                        <div>ðŸ“ ${loc.distance}</div>
                        <div>â­ ${loc.rating}</div>
                    </div>
                    <div style="background: hsla(var(--secondary), 0.1); padding: 0.5rem; border-radius: 0.5rem; font-size: 0.75rem; color: hsl(var(--muted-foreground)); margin-bottom: 0.75rem;">
                        â° Best time: ${loc.bestTime}
                    </div>
                    <div class="location-buttons">
                        <button class="btn-navigate">
                            <svg style="width: 1rem; height: 1rem; stroke: currentColor; stroke-width: 2; fill: none;" viewBox="0 0 24 24"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg>
                            Navigate
                        </button>
                        <button class="btn-alt">Alternatives</button>
                    </div>
                </div>
            `;
        }

        function selectMood(mood) {
            let message = '';
            switch(mood) {
                case 'quiet': message = "I'm looking for something Quiet & Peaceful"; break;
                case 'social': message = "I'm looking for something Social & Lively"; break;
                case 'nature': message = "I'm looking for something Nature & Outdoors"; break;
                case 'retail': message = "I'm looking for something Shopping & Markets"; break;
            }
            
            document.getElementById('user-input').value = message;
            sendMessage();
        }

        function selectDestination(destination) {
            const input = document.getElementById('user-input');
            input.value = `Tell me about ${destination}`;
            sendMessage();
        }

        function resetChat() {
            const messagesArea = document.getElementById('messages-area');
            messagesArea.innerHTML = `
                <div class="message bot">
                    <div class="message-content">
                        <p>Namaste! ðŸ™ I'm Sarthi, your intelligent travel companion. How can I help you today?</p>
                        <span class="message-time">Just now</span>
                    </div>
                </div>
            `;
            userIntent = null;
            updateInitialMessage();
        }

        // function handleKeyPress(event) {
        //     if (event.key === 'Enter') {
        //         sendMessage();
        //     }
        // }

        // Explorer Map Functions
        function initMapMarkers() {
            const container = document.getElementById('map-markers');
            container.innerHTML = locations.map(loc => `
                <div class="map-marker" style="left: ${loc.coordinates.x}%; top: ${loc.coordinates.y}%;" 
                     onclick="showLocationInfo('${loc.id}')" title="${loc.name}">
                    <div class="marker-dot crowd-${loc.crowdLevel}">
                        <svg style="width: 1rem; height: 1rem; stroke: white; stroke-width: 2; fill: none;" viewBox="0 0 24 24">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                        </svg>
                    </div>
                    <div class="marker-pin crowd-${loc.crowdLevel}"></div>
                </div>
            `).join('');
        }

        function showLocationInfo(locationId) {
            const loc = locations.find(l => l.id === locationId);
            if (!loc) return;
            
            alert(`${loc.name}\n\nCrowd Level: ${loc.crowdLevel.toUpperCase()}\nCapacity: ${loc.crowdPercentage}%\nWait Time: ${loc.waitTime}\n\nClick "Chat with Sarthi" for more details!`);
        }

        function filterLocations() {
            const searchValue = document.getElementById('search-input').value.toLowerCase();
            // In a real app, this would filter the map markers
            console.log('Filtering for:', searchValue);
        }

        function filterByCategory(category) {
            selectedCategory = category;
            
            document.querySelectorAll('.category-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            event.target.closest('.category-chip').classList.add('active');
            
            // In a real app, this would filter the map markers
            console.log('Filtering category:', category);
        }

        // Guardian Dashboard Functions
        function initLocationTable() {
            const tbody = document.getElementById('location-table-body');
            tbody.innerHTML = locations.map((loc, index) => `
                <tr>
                    <td>
                        <div class="table-location">${loc.name}</div>
                    </td>
                    <td>
                        <span class="table-category">${loc.category}</span>
                    </td>
                    <td>
                        <div class="crowd-badge">
                            <span class="crowd-dot crowd-${loc.crowdLevel}" style="animation: none; width: 0.75rem; height: 0.75rem;"></span>
                            <span class="crowd-label crowd-${loc.crowdLevel}-text" style="font-size: 0.875rem;">${loc.crowdLevel}</span>
                        </div>
                    </td>
                    <td>
                        <div class="table-progress">
                            <div class="mini-progress">
                                <div class="mini-progress-fill crowd-${loc.crowdLevel}" style="width: ${loc.crowdPercentage}%;"></div>
                            </div>
                            <span class="table-percentage">${loc.crowdPercentage}%</span>
                        </div>
                    </td>
                    <td>
                        <span class="table-trend trend-${loc.trend}">${loc.trend}</span>
                    </td>
                </tr>
            `).join('');
            
            updateHighCrowdCount();
        }

        function updateHighCrowdCount() {
            const count = locations.filter(l => l.crowdLevel === 'peak').length;
            const el = document.getElementById('high-crowd-count');
            if (el) el.textContent = count;
        }

        function selectLevel(level) {
            selectedLevel = level;
            
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        function applyChanges() {
            const locationId = document.getElementById('location-select').value;
            const level = selectedLevel;
            
            // Update location
            const location = locations.find(l => l.id === locationId);
            if (location) {
                location.crowdLevel = level;
                location.crowdPercentage = level === 'calm' ? 25 : level === 'moderate' ? 55 : 85;
                
                // Update UI
                initTicker();
                initTrendingLocations();
                initMapMarkers();
                initLocationTable();
                
                // Show success
                const btn = document.getElementById('apply-button');
                btn.classList.add('success');
                btn.innerHTML = `
                    <svg class="icon" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>
                    Updated!
                `;
                
                setTimeout(() => {
                    btn.classList.remove('success');
                    btn.textContent = 'Apply Changes';
                }, 2000);
            }
        }
        // Carousel functionality
let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-slide');
const totalSlides = slides.length;

function changeSlide(index) {
    slides.forEach(slide => slide.classList.remove('active'));
    document.querySelectorAll('.carousel-dot').forEach(dot => dot.classList.remove('active'));
    
    slides[index].classList.add('active');
    document.querySelectorAll('.carousel-dot')[index].classList.add('active');
    currentSlide = index;
}

function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;
    changeSlide(currentSlide);
}

// Auto-advance carousel every 5 seconds
setInterval(nextSlide, 5000);
    </script>
    
</body>
</html>